<style type="text/css">
  .float_left{
      float: left;
  }
  .float_right{
      float: right;
  }
</style>
<p id="notice"><%= notice %></p>

<div>
  <h1>精确匹配机型[<%=@phones.total_count %>]</h1>
  <div>
  <%= form_tag phones_path, :method => 'get', class: 'float_right' do %>
      <p>
        <%= label_tag :vendor%>
        <%= text_field_tag :vendor, params[:vendor] %>

        <%= label_tag :product%>
        <%= text_field_tag :product_model, params[:product_model] %>

        <%= label_tag 'uname_v(Build Date)'%>
        <%= text_field_tag :build_date, params[:build_date] %>

        <%= label_tag 'uname_r(Build Version)'%>
        <%= text_field_tag :linux_version, params[:linux_version] %>

        <%= label_tag :方案%>
        <%= select_tag :root_file_id, options_for_select(RootFile.enabled.map{|rf|[rf.source_name,rf.id]}), include_blank: true %>
        <%= submit_tag "Search", :name => nil %>
      </p>
  <% end %>
  <%= link_to '添加新机型适配', new_phone_path,:class => 'btn btn-success float_left'%>
  </div>
</div>

<table class="table table-hover">
  <thead>
    <tr>
      <th>vendor</th>
      <th>product_model</th>
      <th>linux_version</th>
      <th>build_date</th>
      <th>utc_date</th>
      <th>source_name</th>
      <th>root_file_id</th>
      <th>category</th>
      <th>成功匹配次数</th>
      <!--<th colspan="3"></th>-->
    </tr>
  </thead>

  <tbody>
    <% @phones.each do |phone| %>
      <tr>
        <td><%= phone.vendor %></td>
        <td><%= phone.product_model %></td>
        <td><%= phone.linux_version %></td>
        <td><%= phone.build_date %></td>
        <td><%= phone.utc_date %></td>
        <td><%= phone.source_name %></td>
        <td><%= link_to phone.root_file.source_name,  root_file_path(phone.root_file)%></td>
        <td><%= phone.category %></td>
        <td><%= phone.count || 0 %></td>
        <!--<td><%= link_to 'Show', phone %></td>-->
        <td><%= link_to '编辑', edit_phone_path(phone), :class => 'btn btn-info btn-xs'  %></td>
        <td><%= link_to '删除', phone, method: :delete, data: { confirm: 'Are you sure?' },:class => 'btn btn-default btn-xs'  %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<%= paginate @phones %>
<br/>
<%= link_to '添加新机型适配', new_phone_path,:class => 'btn btn-success'%>
